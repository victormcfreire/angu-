<form #f="ngForm" (ngSubmit)="onSubmit(f)">
  <div class="form-group">
    <div>
      <label for="nome" class="control-label">Nome</label>
    </div>

    <div>
      <input type="text" class="form-control" name="nome" id="nome"
        [ngClass]="aplicaCssError(nome)" placeholder="Nome"
        [(ngModel)]="usuario.nome" required #nome="ngModel">
      <small class="invalid-feedback">O nome é obritatório</small>
    </div>
  </div>

  <div class="form-group">
    <div>
      <label for="email" class="control-label">Email</label>
    </div>

    <div>
      <input type="email" class="form-control" name="email" id="email"
        [ngClass]="aplicaCssError(email)"
        placeholder="nome@email.com" [(ngModel)]="usuario.email" required email #email="ngModel">
      <small class="invalid-feedback">Forneça um email válido</small>
    </div>
  </div>

  <div ngModelGroup="endereco">
    <div class="form-row form-group">
      <div class="col-md-3">
        <label for="cep" class="control-label">CEP</label>
        <input type="text" class="form-control" name="cep" id="cep" ngModel
          [ngClass]="aplicaCssError(cep)" required
          #cep="ngModel" (blur)="consultaCep(cep.value, f)">
        <small class="invalid-feedback">Forneça um CEP válido</small>

      </div>
      <div class="col-md-3">
        <label for="numero" class="control-label">Número</label>
        <input type="text" class="form-control" name="numero" id="numero" ngModel
          [ngClass]="aplicaCssError(numero)"
          required #numero="ngModel">
        <small class="invalid-feedback">O número é obrigatório</small>

      </div>
      <div class="col-md-6">
        <label for="complemento" class="control-label">Complemento</label>
        <input type="text" class="form-control" name="complemento" id="complemento"
          ngModel #complemento="ngModel">
      </div>

    </div>

    <div class="form-group">
      <div>
        <label for="rua" class="control-label">Rua</label>
      </div>

      <div>
        <input type="text" class="form-control" name="rua" id="rua" [ngClass]="aplicaCssError(rua)"
          ngModel required #rua="ngModel" readonly>
        <small class="invalid-feedback">O rua é obritatório</small>
      </div>
    </div>

    <div class="form-row form-group">
      <div class="col-md-5">
        <label for="bairro" class="control-label">Bairro</label>
        <input type="text" class="form-control" name="bairro" id="bairro" ngModel
          [ngClass]="aplicaCssError(bairro)"
          required #bairro="ngModel" readonly>
        <small class="invalid-feedback">O Bairro é obrigatório</small>

      </div>
      <div class="col-md-4">
        <label for="cidade" class="control-label">Cidade</label>
        <input type="text" class="form-control" name="cidade" id="cidade" ngModel
          [ngClass]="aplicaCssError(cidade)"
          required #cidade="ngModel" readonly>
        <small class="invalid-feedback">A Cidade é obrigatória</small>

      </div>
      <div class="col-md-3">
        <label for="estado" class="control-label">Estado</label>
        <input type="text" class="form-control" name="estado" id="estado" ngModel
          [ngClass]="aplicaCssError(estado)"
          required #estado="ngModel" readonly>
        <small class="invalid-feedback">O Estado é obrigatório</small>
      </div>
    </div>
  </div>

  <button type="submit" class="btn btn-primary" style="margin-top: 15px;" [disabled]="!f.valid">
    Submit
  </button>
</form>

<app-form-debug [form]="f"></app-form-debug>
